# MediaMTX Configuration for Kepler
# Optimized for minimum latency streaming

# General
logLevel: info
logDestinations: [stdout]

# Global settings optimized for low latency
readTimeout: 5s
writeTimeout: 5s

# API and metrics
api: yes
apiAddress: :9997
metrics: yes
metricsAddress: :9998

# RTSP server
rtsp: yes
rtspAddress: :8554
rtspTransports: ["tcp", "udp"]

# RTMP server (for worker publishing)
rtmp: yes
rtmpAddress: :1935

# SRT server (ultra-low latency UDP-based streaming)
srt: yes
srtAddress: :8890

# HLS server
hls: yes
hlsAddress: :8888
hlsAllowOrigin: "*"

# WebRTC server optimized for low latency
webrtc: yes
webrtcAddress: :8889
webrtcAllowOrigin: "*"
# Enable WHIP for WebRTC publishing (ultra-low latency)
webrtcServerKey: ""
webrtcServerCert: ""
# ICE configuration for WebRTC (compatible format)
webrtcICEServers:
  - stun:stun.l.google.com:19302

# Path settings
paths:
  # Allow all paths with minimal config
  ~^.*$:
    publishUser: ""
    publishPass: ""
    readUser: ""
    readPass: ""